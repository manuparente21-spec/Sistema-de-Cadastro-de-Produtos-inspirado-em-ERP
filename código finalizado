
 MINI-ERP DE ESTOQUE 
 Cadastro, Exclusão, Movimentação, Relatórios e Dashboard

import matplotlib.pyplot as plt

# Lista inicial de produtos
produtos = [
    {"id": 1, "nome": "Arroz", "categoria": "Alimentos", "preco": 23.50, "quantidade": 10},
    {"id": 2, "nome": "Feijão", "categoria": "Alimentos", "preco": 8.90, "quantidade": 3},
    {"id": 3, "nome": "Detergente", "categoria": "Limpeza", "preco": 2.99, "quantidade": 15},
    {"id": 4, "nome": "Sabonete", "categoria": "Higiene", "preco": 4.50, "quantidade": 2},
    {"id": 5, "nome": "Café", "categoria": "Alimentos", "preco": 12.80, "quantidade": 7}
]

prox_id = 6  # controle automático de IDs


  Função: Cadastrar produto

def cadastrar_produto():
    global prox_id
    print("\n--- CADASTRO DE PRODUTO ---")
    nome = input("Nome do produto: ")
    categoria = input("Categoria: ")

    try:
        preco = float(input("Preço (R$): "))
        quantidade = int(input("Quantidade inicial: "))
    except ValueError:
        print("Erro: Preço ou quantidade inválidos.")
        return

    produto = {
        "id": prox_id,
        "nome": nome,
        "categoria": categoria,
        "preco": preco,
        "quantidade": quantidade
    }

    produtos.append(produto)
    prox_id += 1
    print("Produto cadastrado com sucesso!")


  Função: Excluir produto

def excluir_produto():
    print("\n--- EXCLUSÃO DE PRODUTO ---")
    try:
        id_produto = int(input("Digite o ID do produto: "))
    except ValueError:
        print("ID inválido.")
        return

    for p in produtos:
        if p["id"] == id_produto:
            produtos.remove(p)
            print("Produto removido com sucesso!")
            return

    print("Produto não encontrado!")


Função: Listar produtos

def listar_produtos():
    print("\n--- RELATÓRIO DE PRODUTOS ---")
    if not produtos:
        print("Nenhum produto cadastrado.")
        return

    for p in produtos:
        print("\n-----------------------------")
        print(f"ID         : {p['id']}")
        print(f"Nome       : {p['nome']}")
        print(f"Categoria  : {p['categoria']}")
        print(f"Preço      : R$ {p['preco']:.2f}")
        print(f"Quantidade : {p['quantidade']}")
        if p["quantidade"] < 5:
            print("⚠ ESTOQUE BAIXO!")

 Função: Movimentação de estoque

def movimentar_estoque():
    print("\n--- MOVIMENTAÇÃO DE ESTOQUE ---")
    try:
        id_produto = int(input("ID do produto: "))
    except ValueError:
        print("ID inválido.")
        return

    for p in produtos:
        if p["id"] == id_produto:
            print("1 - Entrada")
            print("2 - Saída")
            mov = input("Escolha: ")

            try:
                quantidade = int(input("Quantidade: "))
            except ValueError:
                print("Valor inválido.")
                return

            if mov == "1":
                p["quantidade"] += quantidade
                print("Entrada registrada com sucesso!")
            elif mov == "2":
                if quantidade > p["quantidade"]:
                    print("Erro: Estoque insuficiente!")
                else:
                    p["quantidade"] -= quantidade
                    print("Saída registrada com sucesso!")
            return

    print("Produto não encontrado!")

  Função: Dashboard de gráficos

def dashboard():
    print("\n--- DASHBOARD DE ESTOQUE ---")

    if not produtos:
        print("Nenhum produto cadastrado para gerar gráficos.")
        return

    nomes = [p["nome"] for p in produtos]
    quantidades = [p["quantidade"] for p in produtos]
    categorias = [p["categoria"] for p in produtos]

  Gráfico 1: Quantidade por Produto 
    plt.figure(figsize=(10, 5))
    plt.bar(nomes, quantidades, color="blue")
    plt.title("Quantidade em Estoque por Produto")
    plt.xlabel("Produto")
    plt.ylabel("Quantidade")
    plt.show()

   Gráfico 2: Estoque por Categoria
    categorias_unicas = list(set(categorias))
    soma_por_categoria = [
        sum(p["quantidade"] for p in produtos if p["categoria"] == cat)
        for cat in categorias_unicas
    ]
    plt.figure(figsize=(10, 5))
    plt.bar(categorias_unicas, soma_por_categoria, color="green")
    plt.title("Comparação de Estoque por Categoria")
    plt.xlabel("Categoria")
    plt.ylabel("Quantidade Total")
    plt.show()

     Curva ABC 
    produtos_abc = sorted(produtos, key=lambda x: x["preco"] * x["quantidade"], reverse=True)
    nomes_abc = [p["nome"] for p in produtos_abc]
    valores = [p["preco"] * p["quantidade"] for p in produtos_abc]
    plt.figure(figsize=(10, 5))
    plt.plot(nomes_abc, valores, marker="o")
    plt.title("Curva ABC - Valor dos Estoques")
    plt.xlabel("Produto")
    plt.ylabel("Valor em Estoque (R$)")
    plt.grid()
    plt.show()


 Menu principal

def menu():
    while True:
        print("\n============ MINI ERP DE ESTOQUE ============")
        print("1 - Cadastrar produto")
        print("2 - Excluir produto")
        print("3 - Listar produtos")
        print("4 - Movimentar estoque (Entrada/Saída)")
        print("5 - Dashboard (Gráficos)")
        print("6 - Sair")
        opcao = input("Escolha uma opção: ")

        if opcao == "1":
            cadastrar_produto()
        elif opcao == "2":
            excluir_produto()
        elif opcao == "3":
            listar_produtos()
        elif opcao == "4":
            movimentar_estoque()
        elif opcao == "5":
            dashboard()
        elif opcao == "6":
            print("Sistema encerrado. Até mais!")
            break
        else:
            print("Opção inválida. Tente novamente.")


# Executa o sistema

menu()
